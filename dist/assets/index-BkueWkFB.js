(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))i(t);new MutationObserver(t=>{for(const s of t)if(s.type==="childList")for(const h of s.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&i(h)}).observe(document,{childList:!0,subtree:!0});function r(t){const s={};return t.integrity&&(s.integrity=t.integrity),t.referrerPolicy&&(s.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?s.credentials="include":t.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(t){if(t.ep)return;t.ep=!0;const s=r(t);fetch(t.href,s)}})();class y{constructor(e,r,i){this.x=e,this.y=r,this.r=i}draw(e){e.save(),e.beginPath(),e.arc(this.x,this.y,this.r,0,Math.PI*2),e.strokeStyle="black",e.stroke(),e.restore()}}class m{constructor(e,r,i,t){this.width=e,this.color=r,this.offset=i,this.parentCircle=t}draw(e){const r=this.parentCircle.x+this.offset*Math.cos(this.parentCircle.theta*this.parentCircle.cr),i=this.parentCircle.y-this.offset*Math.sin(this.parentCircle.theta*this.parentCircle.cr);e.beginPath(),e.arc(r,i,this.width,0,Math.PI*2),e.fillStyle=this.color,e.fill()}}class w{constructor(e,r){this.scale=e,this.r=r,this.theta=0,this.omega=.01,this.cr=this.scale.r/this.r,this.pens=[]}draw(e,r){const i=(this.scale.r-this.r)*Math.cos(this.theta),t=(this.scale.r-this.r)*Math.sin(this.theta),s=i+this.scale.x,h=t+this.scale.y;this.x=s,this.y=h,e.save(),e.beginPath(),e.arc(s,h,this.r,-this.theta*this.cr,-this.cr*this.theta+Math.PI*2),e.lineTo(s,h),e.strokeStyle="red",e.stroke(),this.pens.forEach(g=>g.draw(r)),e.restore()}update(e,r){this.draw(e,r),this.theta+=this.omega}addPen(e,r,i){this.pens.push(new m(e,r,i,this))}}const a={grapher:document.querySelector(".cnv-grapher"),sheet:document.querySelector(".cnv-sheet")},o={grapher:a.grapher.getContext("2d"),sheet:a.sheet.getContext("2d")};function f(n=innerWidth,e=innerHeight){a.grapher.height=e,a.grapher.width=n,a.sheet.height=e,a.sheet.width=n}function P(n,e,r="#0002"){e.save(),e.fillStyle=r,e.fillRect(0,0,n.width,n.height),e.restore()}const l=new y(innerWidth/2,innerHeight/2,200);f();addEventListener("resize",()=>{f(),l.x=innerWidth/2,l.y=innerHeight/2});const u=new w(l,99);u.addPen(.5,"blue",50);let d=null;function p(){return P(a.grapher,o.grapher,"#fff"),l.draw(o.grapher),u.update(o.grapher,o.sheet),d=requestAnimationFrame(p),()=>{cancelAnimationFrame(d)}}let c=null;addEventListener("click",()=>{c?(c(),c=null):c=p()});
